# yaml-language-server: $schema=./node_modules/envio/evm.schema.json
name: envio-indexer
networks:
- id: 421614
  start_block: 197356387
  contracts:
  - name: PiePayFactory
    address:
    - 0x5fBAac997c776b50e766F60156Ea3336D333107e
    handler: src/EventHandlers.ts
    events:
    - event: ProjectCreated(uint256 indexed projectId, address indexed projectAddress, string projectName, string projectDescription, address indexed projectLead, address payrollManager, address paymentToken, address creator)
    - event: ProjectMetadataUpdated(uint256 indexed projectId, address indexed projectAddress, address indexed updatedBy)
  - name: PiePay
    address: []  # Will be dynamically added as projects are created
    handler: src/EventHandlers.ts
    events:
    - event: ContributionApproved(address indexed executor, uint256 indexed contributionId, address indexed contributor, uint8 unitType, uint256 unitsAwarded)
    - event: ContributionRejected(address indexed executor, uint256 indexed contributionId, address indexed contributor)
    - event: ContributionSubmitted(address indexed executor, uint256 indexed contributionId, uint8 unitType, uint256 unitsRequested, string description)
    - event: ContributorRemoved(address indexed executor, address indexed contributor)
    - event: ContributorWhitelisted(address indexed executor, address indexed contributor)
    - event: ConversionMultipliersUpdated(address indexed executor, uint16 pToDMultiplier, uint16 pToCMultiplier, uint16 dToCMultiplier)
    - event: PayrollFunded(address indexed executor, uint256 amount)
    - event: PayrollManagerUpdated(address indexed executor, address indexed newManager)
    - event: ProjectInitialized(string name, string description, address indexed executor)
    - event: ProjectLeadUpdated(address indexed executor, address indexed newLead)
    - event: TotalUnitsUpdated(uint8 indexed unitType, uint256 newTotal)
    - event: UnitCapacityUpdated(address indexed executor, uint8 indexed unitType, uint256 newCapacity)
    - event: UnitsConverted(address indexed executor, uint8 indexed fromType, uint8 indexed toType, uint256 fromAmount, uint256 toAmount)
    - event: UnitsDistributed(address indexed executor, uint8 indexed unitType, uint256 totalDistributed, uint256 recipientCount)
field_selection:
  transaction_fields:
    - hash
unordered_multichain_mode: true
